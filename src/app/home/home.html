<div class="home-page">
  <div class="main-content">

    <!-- üî• Section: ‡πÄ‡∏Å‡∏°‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ -->
    <h2 class="section-title hot-section-title">
      <span class="fire-icon">üî•</span> ‡πÄ‡∏Å‡∏°‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ
    </h2>

<div class="featured-grid">
  <div *ngFor="let game of getTopSales(); let i = index" class="game-card small-card">
    <div class="rank-tag">#{{ i + 1 }}</div>
    <img [src]="game.image" [alt]="game.game_name" class="cover-img" />
    <div class="game-info">
      <span class="title">{{ game.game_name }}</span>
      <span class="sale-count">{{ game.sales | number }} ‡∏Ç‡∏≤‡∏¢</span>
    </div>
  </div>
</div>

    <!-- üîç Search Bar -->
    <div class="search-bar simple-search-bar">
      <div class="search-input-group">
        <input type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏°..." class="search-input-field" [(ngModel)]="searchText" />
        <select name="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó" [(ngModel)]="searchType">
          <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
          <option value="FPS">FPS</option>
          <option value="RPG">RPG</option>
          <option value="Action">Action</option>
          <option value="Adventure">Adventure</option>
          <option value="Strategy">Strategy</option>
        </select>
      </div>
    </div>

    <!-- üïπÔ∏è Main Game List -->
    <div class="main-game-grid">
      <div *ngFor="let game of filteredGames()" class="game-card detail-card">
        <img [src]="game.image" [alt]="game.game_name" class="cover-img-top" />
        <div class="card-content">
          <div class="card-header">
            <span class="title">{{ game.game_name }}</span>
            <span class="genre-tag">{{ game.type }}</span>
          </div>
          <p class="description">{{ game.description }}</p>
          <div class="meta-info">
            <p><strong>‡∏ß‡∏±‡∏ô‡∏ß‡∏≤‡∏á‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢:</strong> {{ game.release_date | date:'dd MMMM yyyy' }}</p>
          </div>
<div class="card-footer">
  <span class="price">‡∏ø {{ game.price | number }}</span>
  
  <ng-container *ngIf="isPurchased(game.id); else addCartBtn">
    <span class="purchased-label">‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß</span>
  </ng-container>

  <ng-template #addCartBtn>
    <button class="buy-btn" 
            [disabled]="isInCart(game.id)" 
            (click)="addToCart(game.id)">
      {{ isInCart(game.id) ? '‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤' : '+‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤' }}
    </button>
  </ng-template>
</div>
        </div>
      </div>
    </div>

  </div>
</div>
